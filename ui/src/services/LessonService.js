// Имитация данных уроков
const lessons = {
    1: {
        id: 1,
        title: 'Основы личного бюджета',
        description: 'Научитесь планировать и вести учет доходов и расходов',
        steps: [
            {
                title: 'Что такое личный бюджет?',
                content: `
          <p>Личный бюджет — это план управления вашими доходами и расходами за определенный период времени. Это инструмент, который помогает вам контролировать свои финансы и достигать финансовых целей.</p>
          <p>Основные компоненты личного бюджета:</p>
          <ul>
            <li>Доходы — все источники поступления денег</li>
            <li>Расходы — все направления трат денег</li>
            <li>Сбережения — часть доходов, которую вы откладываете</li>
          </ul>
        `,
                hasQuiz: false
            },
            {
                title: 'Почему важно вести бюджет?',
                content: `
          <p>Ведение бюджета дает вам множество преимуществ:</p>
          <ul>
            <li>Полный контроль над своими финансами</li>
            <li>Возможность выявить и сократить ненужные расходы</li>
            <li>Способность быстрее достигать финансовых целей</li>
            <li>Снижение стресса и беспокойства о деньгах</li>
            <li>Возможность создать финансовую подушку безопасности</li>
          </ul>
        `,
                hasQuiz: true,
                quizQuestion: 'Какое из следующих утверждений НЕ является преимуществом ведения личного бюджета?',
                quizOptions: [
                    'Выявление лишних расходов',
                    'Увеличение доходов без дополнительной работы',
                    'Снижение финансового стресса',
                    'Ускорение достижения финансовых целей'
                ]
            },
            {
                title: 'Как составить личный бюджет?',
                content: `
          <p>Для составления эффективного личного бюджета следуйте этим шагам:</p>
          <ol>
            <li>Определите период бюджетирования (неделя, месяц, год)</li>
            <li>Запишите все источники дохода за этот период</li>
            <li>Перечислите все ваши расходы, разбив их на категории</li>
            <li>Вычтите расходы из доходов</li>
            <li>Проанализируйте результат и скорректируйте при необходимости</li>
          </ol>
          <p>Важно быть честными с собой и записывать абсолютно все траты, даже мелкие.</p>
        `,
                hasQuiz: true,
                quizQuestion: 'Что является первым шагом при составлении личного бюджета?',
                quizOptions: [
                    'Выбор периода бюджетирования',
                    'Запись всех расходов',
                    'Анализ предыдущих трат',
                    'Определение финансовых целей'
                ]
            }
        ]
    },
    2: {
        id: 2,
        title: 'Основы инвестирования',
        description: 'Изучите базовые принципы инвестирования и научитесь принимать правильные инвестиционные решения',
        steps: [
            {
                title: 'Что такое инвестиции?',
                content: `
          <p>Инвестиции — это вложение денег с целью получения дохода в будущем. Инвестировать можно в различные активы:</p>
          <ul>
            <li>Акции компаний</li>
            <li>Облигации</li>
            <li>Недвижимость</li>
            <li>Криптовалюты</li>
          </ul>
          <p>Важно помнить, что инвестиции всегда связаны с риском потери части или всех вложенных средств.</p>
        `,
                hasQuiz: false
            },
            {
                title: 'Основные принципы инвестирования',
                content: `
          <p>Для успешного инвестирования важно следовать основным принципам:</p>
          <ul>
            <li>Диверсификация — распределение инвестиций по разным активам</li>
            <li>Долгосрочность — инвестиции должны быть рассчитаны на длительный срок</li>
            <li>Регулярность — постоянное инвестирование небольших сумм</li>
            <li>Инвестирование только свободных средств</li>
          </ul>
        `,
                hasQuiz: true,
                quizQuestion: 'Какой принцип инвестирования помогает снизить риски?',
                quizOptions: [
                    'Диверсификация',
                    'Срочность',
                    'Концентрация',
                    'Специализация'
                ]
            }
        ]
    }
};

export const LessonService = {
    // Получение урока по ID
    async getLesson(id) {
        // Имитация задержки сети
        await new Promise(resolve => setTimeout(resolve, 500));
        return lessons[id];
    },

    // Получение списка всех уроков
    async getLessons() {
        // Имитация задержки сети
        await new Promise(resolve => setTimeout(resolve, 500));
        return Object.values(lessons);
    },

    // Отправка ответа на тест
    async submitQuizAnswer(lessonId, stepIndex, answerIndex) {
        // Имитация задержки сети
        await new Promise(resolve => setTimeout(resolve, 500));
        // Проверяем, существует ли урок и шаг
        if (!lessons[lessonId] || !lessons[lessonId].steps[stepIndex]) {
            throw new Error('Урок или шаг не найден');
        }
        return {
            success: true,
            lessonId,
            stepIndex,
            answerIndex
        };
    },

    // Отметить урок как завершенный
    async completeLesson(lessonId) {
        // Имитация задержки сети
        await new Promise(resolve => setTimeout(resolve, 500));
        // Проверяем, существует ли урок
        if (!lessons[lessonId]) {
            throw new Error('Урок не найден');
        }
        return {
            success: true,
            lessonId
        };
    }
}; 